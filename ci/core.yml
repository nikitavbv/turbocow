.core:
  variables:
    CRATE_NAME: converter
    IMAGE_NAME: converter
  only:
    changes:
      - core/**/*
      - images/service.Dockerfile

core test:
  extends: 
    - .cargo_test
    - .core

core build:
  extends:
    - .cargo_build_executable
    - .core

core image:
  extends: 
    - .service_build
    - .core
  needs: ['core test', 'core build']