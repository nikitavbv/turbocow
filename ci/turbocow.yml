.turbocow:
  variables:
    CRATE_NAME: turbocow
    IMAGE_NAME: turbocow
  only:
    changes:
      - turbocow/**/*
      - images/service.Dockerfile
      - ci/templates.yml
      - ci/core.yml

turbocow test:
  extends: 
    - .cargo_test
    - .turbocow

turbocow build:
  extends:
    - .cargo_build_executable
    - .turbocow

turbocow image:
  extends: 
    - .service_build
    - .core
  needs: ['turbocow test', 'turbocow build']